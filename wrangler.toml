# =================================================================================
#  Flux-AI-Pro - æ··åˆæ¶æ§‹é…ç½® (v9.0.0)
#  Cloudflare Workers éƒ¨ç½²å®šç¾©
# =================================================================================

# é …ç›®åŸºæœ¬ä¿¡æ¯
name = "flux-ai-pro"
main = "worker.js"
compatibility_date = "2025-12-04"

# é …ç›®åŸºæœ¬è¨­ç½®
# - ç«‹å³ã€Šç«‹å³æä¾›å•†ã€‹å¼•æ“è¡¨ç­†ï¼Œç”Ÿæˆå®Œæ•´çš„åç¨±

# ğŸ†• Cloudflare Workers AI ç¶å®š
# å•Ÿç”¨æ··åˆæ¶æ§‹ï¼ˆPollinations + Cloudflare AIï¼‰
[ai]
binding = "AI"

# ç’°å¢ƒè®Šé‡
[vars]
PROJECT_VERSION = "9.0.0"
PROJECT_NAME = "Flux-AI-Pro"
ENABLE_CLOUDFLARE = "true"  # å¯é¡¯ç¤ºæ§åˆ¶æ˜¯å¦å•Ÿç”¨ Cloudflare AI

# =================================================================================
# ç’°å¢ƒé…ç½® ï¼š é–‹ç™¼ç’°å¢ƒï¼ˆç”¨æ–¼æœ¬åœ°å•Ÿå‹• Workers AIï¼‰
# =================================================================================

[env.dev]
vars = {
  ENABLE_CLOUDFLARE = "false",  # åœ¨é–‹ç™¼ç’°å¢ƒä¸­ç¦ç”¨ Cloudflare AI ï¼Œåƒ…ç”¨ Pollinations
  PROJECT_VERSION = "9.0.0-dev"
}

# =================================================================================
# ç”Ÿç”¢ç’°å¢ƒé…ç½® ï¼š é›™å…¨ Cloudflare AI ï¼ˆéœ€è¦Workers AIä»˜è²»ï¼‰
# =================================================================================

[env.production]
name = "flux-ai-pro-prod"  # ç”Ÿç”¢ç’°å¢ƒç¨ç«‹å…·æœ‰ç¨ç«‹åç¨±
vars = {
  ENABLE_CLOUDFLARE = "true",  # å•Ÿç”¨ Cloudflare AI +å…è²»æœå‹™
  PROJECT_VERSION = "9.0.0"
}

# =================================================================================
# å¯é¸ä¸­é€” ã€é·ç§»ã€‘
# =================================================================================

# çŸ¥å®šç¾©è·¯å¾‘[[route]]
# [[route]]
# pattern = "api/*"
# origin = "https://localhost:8000"

# é«˜ç´šå…‹ [[r2]] + [[queues]]
# [[r2]]
# binding = "DB"
# database_name = "my-database"
# database_id = "XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"

# é«˜ç´š KV [[kv_namespaces]]
# [[kv_namespaces]]
# binding = "MY_KV"
# id = "XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"

# =================================================================================
# éƒ¨ç½²é™„å ï¼š Cloudflare Workers å…è²»è¨ˆåŠƒï¼Œç„¡éœ€æ”¯ä»˜æ–¹å¼
# =================================================================================

# å¦‚æœæœªä¾†å…ˆè®€å¤ª Cloudflare Workers AIï¼š
# 1. è¡Œåˆ° Cloudflare Dashboard
# 2. æ‰¾åˆ° Workers & Pages -> ä½ çš„ Worker
# 3. é»æ“Š "Settings" -> "Variables and Secrets"
# 4. æ·»åŠ  'Bindings' â†’ é¸æ“‡ "AI Binding"
# 5. è¼¸å…¥ â†’è¯å®Œå“åã€ AI ï¼ˆä¸è¦ä¿®æ”¹ï¼‰
# 6. éƒ¨ç½²å®Œæˆï¼

# é–±è®€ï¼š
# - å…è²»é¡åº¦ https://developers.cloudflare.com/workers-ai/get-started/
# - å®˜è²»æ›´æ–° æœ¬é …æ–¹ã€Šã€Š
# - è¨ªå• Workers AI éœ€è¦ã€Œè®Šæ›´ã€ (AI_BASE_URL + API_KEY)
